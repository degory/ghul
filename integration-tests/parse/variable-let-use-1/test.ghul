namespace Test.ParseLetUse is
    use Collections;

    class Test is
        test_simple() is
            let use x = 1, y = 2;
        si    
        
        test_if() is
            if true then
                let use x = 1, y = 2;
            fi

            if true then
                let use x = 1, y = 2;
            else
                let use x = 1, y = 2;
            fi
            
            if true then
                let use x = 1, y = 2;
            elif true then
                let use x = 1, y = 2;
            else
                let use x = 1, y = 2;
            fi
        si

        test_for() is
            for i in [1, 2, 3] do
                let use x = 1, y = 2;
            od
        si
        
        test_while() is
            while true do
                let use x = 1, y = 2;
            od
        si
        
        test_case() is
            case 123
            when 1: let use x = 1, y = 2;
            when 2: let use x = 1, y = 2;
            default let use x = 1, y = 2;
            esac
        si

        entry() is
            test_simple();
            test_if();
            test_for();
            test_while();
            test_case();
        si
        
        test_error() is
            // deliberate error so we know the compiler hasn't simply exited
            // without parsing the whole file
            let x = 1 1;            
        si
    si
si
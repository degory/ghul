namespace Semantic is
    use System;
    use Generic;

    use Logging;

    class FUNCTION_CALLER is
        _symbol_table: SYMBOL_TABLE;

        init(symbol_table: SYMBOL_TABLE) is
            super.init();

            _symbol_table = symbol_table;
        si

        // FIXME: these should do more specific stuff:

        call_global_function(function: Symbol.Function, arguments: Iterable[Graph.Value.BASE], type: Type.BASE) -> Graph.Value.BASE =>
            new Graph.Value.Call.GLOBAL(function, arguments, type);

        call_instance_function(from: Graph.Value.BASE, function: Symbol.Function, arguments: Iterable[Graph.Value.BASE], type: Type.BASE) -> Graph.Value.BASE is
            if from == null then
                from = new Graph.Value.Load.SELF(_symbol_table.current_instance_context);
            fi

            return new Graph.Value.Call.INSTANCE(from, function, arguments, type);
        si
    si
si
namespace Shim is
    use Collections.Iterable;
    use Collections.Iterator;

    class FIRST[T] is
        iterable: Iterable[T];
        predicate: (T) -> bool;

        result: T is
            for e in iterable do
                if !predicate? || predicate(e) then
                    return e;
                fi                                
            od
        si
        
        init(iterable: Iterable[T], predicate: (T) -> bool) is
            self.iterable = iterable;
            self.predicate = predicate;
        si

        init(iterable: Iterable[T]) is
            self.iterable = iterable;
        si
    si
si

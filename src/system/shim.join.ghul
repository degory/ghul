namespace Shim is
    use System.String;
    use System.Text.StringBuilder;
    use Collections.Iterable;

    class JOIN[T] is
        _values: Iterable[T];
        _delimiter: String;

        init(values: Iterable[T]) is
            _values = values;
            _delimiter = ",";
        si

        @IL.name("ToString")
        to_string() is
            let seen_any = false;

            let result = new StringBuilder();

            for value in _values do
                if seen_any then
                    result.append(_delimiter);
                fi

                result.append(value);

                seen_any = true;
            od            
        si
    si
si
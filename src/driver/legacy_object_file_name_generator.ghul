namespace Driver is
    use System;
    use Generic;

    class LEGACY_OBJECT_FILE_NAME_GENERATOR is
        init() is
        si

        new_object_file_name_for(file_name: String) -> String is
            if !SOURCE_FILE_CATEGORIZER.is_ghul(file_name) then
                throw new Exception("not a ghÅ«l source file: " + file_name);
            fi

            if file_name.startsWith("/usr/lib/") then
                let last_slash = file_name.lastIndexOf('/');

                file_name = "/tmp/" + file_name.substring(last_slash + 1);
            fi

            return
                file_name.substring(0, file_name.Length - 5) + ".0.lo";
        si
    si
si
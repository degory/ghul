namespace Syntax.Parser.Expression is
    use System;
    
    use Source;

    class TERTIARY: BASE[Tree.Expression.NODE] is
        expression_secondary_parser: Parser[Tree.Expression.NODE];
        description: String => "tertiary expression";
        
        init(
            expression_secondary_parser: Parser[Tree.Expression.NODE]
        )
        is
            super.init();

            self.expression_secondary_parser = expression_secondary_parser;
        si

        parse(context: CONTEXT) -> Tree.Expression.NODE is
            if context.current.token == Lexical.TOKEN.OPERATOR then                    
                var name = new Tree.Identifier.NODE(context.location, context.current_string);
                context.next_token();
                var right = parse(context);

                return new Tree.Expression.UNARY(name.location::right.location, name, right); 
            else
                return expression_secondary_parser.parse(context);
            fi
        si
    si
si

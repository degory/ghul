namespace Semantic.Symbol is
    use System;
    
    use IoC;
    use Logging;
    use Source;

    class InnateFunction: Function is
        innate_name: String;
        description: String => qualified_name + "(" + argument_descriptions + ") -> " + return_type + " // innate function " + innate_name;
        
        is_innate: bool => true;

        il_def: String => get_il_def("// innate ");

        init(location: LOCATION, owner: Scope, name: String, enclosing_scope: Scope, innate_name: String) is            
            super.init(location, owner, name, enclosing_scope);

            self.innate_name = innate_name;
        si

        load(location: LOCATION, from: Graph.Value.BASE, loader: SYMBOL_LOADER) -> Graph.Value.BASE is
            assert !from? else "instance load of function";

            // FIXME: this should probably error
            return loader.load_global_function(self);
        si
    si

    class INNATE_FUNCTION: InnateFunction is
        init(location: LOCATION, owner: Scope, name: String, enclosing_scope: Scope, innate_name: String) is            
            super.init(location, owner, name, enclosing_scope, innate_name);
        si        

        call(location: Source.LOCATION, from: Graph.Value.BASE, arguments: Collections.LIST[Graph.Value.BASE], type: Semantic.Type.BASE, caller: FUNCTION_CALLER) -> Graph.Value.BASE is
            assert !from? else "instance call of innate function";

            return caller.call_innate_function(self, arguments, self.arguments, type);
        si
    si

    class INNATE_METHOD: InnateFunction is
        init(location: LOCATION, owner: Scope, name: String, enclosing_scope: Scope, innate_name: String) is            
            super.init(location, owner, name, enclosing_scope, innate_name);
        si        

        call(location: Source.LOCATION, from: Graph.Value.BASE, arguments: Collections.LIST[Graph.Value.BASE], type: Semantic.Type.BASE, caller: FUNCTION_CALLER) -> Graph.Value.BASE is
            return caller.call_innate_function(self, from, arguments, self.arguments, type);
        si        
    si    
si

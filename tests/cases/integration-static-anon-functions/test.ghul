namespace Test is
    class Main is
        entry() static is
            @IL.entrypoint()

            test_void();
            test_int();
        si

        init() is
            
        si
        
        test_void() static is
            let f0 = () -> void is
                System.Console.write_line("function 0");
                return;

            si;

            let f1 = (i: int) -> void is
                System.Console.write_line("function 1: " + i);

                return;
            si;

            f0();
            f1(12345);

            let copy_f0: ACTION_0 = f0;
            let copy_f1: ACTION_1[int] = f1;

            copy_f0();
            copy_f1(54321);
        si        

        test_int() static is
            let f0 = () -> int is
                System.Console.write_line("function 0");
                return 999;

            si;

            let f1 = (i: int) -> int is
                System.Console.write_line("function 1: " + i);

                return i * 2;
            si;

            let r0 = f0();
            System.Console.write_line("f0 result: " + r0);

            let r1 = f1(12345);
            System.Console.write_line("f1 result: " + r1);

            let copy_f0: FUNCTION_0[int];
            copy_f0 = f0;
            let copy_f1: FUNCTION_1[int,int];
            copy_f1 = f1;

            let cr0: int;
            cr0 = copy_f0();
            System.Console.write_line("copy f0 result: " + cr0);

            let cr1: int;
            cr1 = copy_f1(54321);
            System.Console.write_line("copy f1 result: " + cr1);
        si
    si
si
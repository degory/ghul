namespace Test is
    use System.String;
    use System.Exception;
    use System.Console;

    class Main is
        entry() static is
            @IL.entrypoint()

            run("assert true should not throw", () -> void is
                assert true;
            si);

            run("assert 12345 != 67890 should not throw", () -> void is
                assert 12345 != 67890;
            si);

            run("assert false should throw with false as message", () -> void is
                assert false;
            si);

            run("assert 12345 == 67890 should throw with 12345 == 67890 as message", () -> void is
                assert 12345 == 67890;
            si);

            run("assert true else message should not throw", () -> void is
                assert true else "message";
            si);

            run("assert true else message should throw with message as message", () -> void is
                assert false else "message";
            si);

            run("assert true else string expression should not throw", () -> void is
                assert true else string() + " " + expression;
            si);

            run("assert true else string expression should throw with string expression as message", () -> void is
                assert false else string() + " " + expression;
            si);
        si

        string() -> String static => "string";
        expression: String static => "expression";

        run(description: String, test: () -> void) static is
            try
                Console.write_line(description);
                test();
                Console.write_line("did not throw");
            catch ex: Exception
                Console.write_line("threw: " + ex.get_type().name + " " + ex.message);
            finally
                Console.write_line();
            yrt
        si
    si
si
namespace Test is
    @IF.not.v3()
    use Std = System.Console;
    @IF.not.v3()
    use object = System.Object;
    @IF.not.v3()
    use string = System.String;

    @IF.v3()
    use Std = IO.Std;

    class Main is
        entry() static is
            @IL.entrypoint()

            test_loop();
        si

        test_loop() static is
            let i = -2;

            do
                let result = "none of the above";

                case i
                when 0:
                    Std.out.write_line("case 0");
                    result = "zero";

                when 1:
                    Std.out.write_line("case 1");
                    result = "one";
                    break;

                when 2:
                    Std.out.write_line("case 2");
                    result = "two";

                default                    
                    Std.out.write_line("default");
                    result = "not zero or one (actually " + i + ")";

                esac

                Std.out.write_line("result is: " + result);
                
                i = i + 1;

                if i > 3 then
                    break;
                fi
            od
        si
    si
si
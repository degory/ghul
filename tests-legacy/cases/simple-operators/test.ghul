namespace Test.SimpleOperators is

    class Value is
        value: int;

        init(v: int) is
            self.value = v;
        si

        =~(other: Value) -> bool is
            return value == other.value;
        si

        >(other: Value) -> int is
            return value - other.value;
        si
    si

    class Main is
        init() is
            let value_null: Value;

            let value_0 = new Value(0);
            let value_1 = new Value(1);
            let value_2 = new Value(2);

            let other_2 = new Value(2);

            if value_null =~ null then
                System.Console.error.write_line("expected value_null =~ null");
            else
                System.Console.error.write_line("not expected value_null !~ null");
            fi

            // if null =~ value_null then
            //     System.Console.error.write_line("expected null =~ value_null");
            // else
            //     System.Console.error.write_line("not expected null !~ value_null");
            // fi

            if value_null =~ value_0 then
                System.Console.error.write_line("not expected value_null != value_0");
            else
                System.Console.error.write_line("expected value_null !~ value_0");
            fi

            if value_0 =~ value_null then
                System.Console.error.write_line("not expected value_0 =~ value_null");
            else
                System.Console.error.write_line("expected value_0 !~ value_null");
            fi
            
            if value_1 =~ value_2 then
                System.Console.error.write_line("not expected value_1 =~ value_2");
            else
                System.Console.error.write_line("expected value_1 !~ value_2");
            fi

            if value_1 !~ value_2 then
                System.Console.error.write_line("expected value_1 !~ value_2");
            else
                System.Console.error.write_line("not expected value_1 =~ value_2");
            fi

            if value_2 =~ other_2 then
                System.Console.error.write_line("expected value_2 =~ value_2");
            else
                System.Console.error.write_line("not expected value_2 !~ value_2");
            fi

            if value_2 !~ other_2 then
                System.Console.error.write_line("not expected value_2 !~ value_2");
            else
                System.Console.error.write_line("expected value_2 =~ value_2");
            fi
        si
    si
si